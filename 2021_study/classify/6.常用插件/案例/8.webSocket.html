<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- 
        ps:(这里未使用 socket.io)

        示例在： plug-ins-common\src\views\Login.vue

        主体逻辑：
            

            前端：

                实例化： 
                    const ws = new WebSocket("ws://localhost:8000");

                事件：
                    ws.addEventListener("open", this.onOpen.bind(this), false);
                    连接成功触发
        
                    ws.addEventListener("close", this.onClose.bind(this), false);
                    关闭连接触发
                   
                    ws.addEventListener("error", this.onError.bind(this), false);
                    报错触发
                   
                    ws.addEventListener("message", this.onMessage.bind(this), false);
                    接收后端广播的消息

                发送信息到后端：
                    ws.send(
                        JSON.stringify({})
                    );



            后端：
                安装库： 
                    npm i ws

                实例化：
                    const server = new Ws.Server({ port: 8000 });

                方法：
                    server.on("open", onOpen);
                    server.on("close", onClose);
                    server.on("error", onError);
                    server.on("connection", onConnection);

                广播消息：
                    ws.on("message", onMessage);  （在connection函数中）

                    function onMessage(msg) {
                        console.log("onMessage", JSON.parse(msg));

                        server.clients.forEach(c => {
                            遍历用户

                            c.send(msg);
                            发送

                        });
                    }
            


        


        
     -->
    </body>
</html>
