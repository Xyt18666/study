<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body></body>
    <script>
        console.log([] == 0); //true
        /*
    Number([].valueOf().toString())==0 
    Number([].toString())==0
    Number("")==0
    0==0
    */

        console.log(![] == 0); //true
        /*
    “!” 为逻辑非，在操作非布尔值类型的数据时，会将该数据类型先转换为布尔值后再取反
    !优先级 大于 == ，所以先执行 ![]

    !Boolean([]) == 0
    !true == 0
    false == 0     
    */

        console.log([] == ![]); //true
        /*
    [] == !Boolean([])
    [] == false
    Number([].valueOf().toString()) == Number(false)
    0 == 0
    */

        console.log([] == []); //false
        /*
    在 JavaScript 中，Object、Array、Function、RegExp、Date 都是引用类型
    声明引用类型的时候，变量名保存在 js 的栈内存里面，而对应的值保存在堆内存里面
    而这个变量在栈内存中实际保存的是：这个值在堆内存中的地址，也就是指针

    如果两个对象指向同一个对象，相等操作符返回 true
    {}=={}  同理
    
    */

        console.log({} == !{}); //false
        /*
    {} == !Boolean({}) 
    {} == false
    Number({}) == Number(false) 
    NaN == 0

    */

        console.log({} == {}); //false

        /*
    ==    先强制转换数据类型 在 比较
    ===   仅比较，不转换

    所有以上的所有console.log内的都要先转换

    转换规则：
        1. 如果有一个操作数是布尔值，则在比较相等性之前，将其转换为数值；

        2. 如果一个操作数是字符串，另一个操作数是数值，在比较之前先将字符串转换为数值；

        3. 如果一个操作数是对象，另一个操作数不是，则调用对象的 valueOf() 方法，用得到的基本类型值按照前面的规则进行比较；

        4. 如果有一个操作数是 NaN，无论另一个操作数是什么，相等操作符都返回 false；

        5. 如果两个操作数都是对象，则比较它们是不是同一个对象。如果指向同一个对象，则相等操作符返回 true；

        6. 在比较相等性之前，不能将 null 和 undefined 转成其他值。

        7. null 和 undefined 是相等的。

        简单概括：

        如果相等操作符两边的操作数，不包含 null 或者 undefined，且两个操作数不全是对象，在执行相等比较之前，会先调用 Number() 将两个操作数强制转为 Number 类型，然后进行比较

        null==undefined为true；
        null和undefined不会进行数据转换；
        NaN不与任何值相等，甚至包括它自己！


        若其中一个数据类型为布尔值，则会先将其转换成数值再进行比较

        “!” 为逻辑非，在操作非布尔值类型的数据时，会将该数据类型先转换为布尔值后再取反



--------------------------------------------------------

    都知道：0==0;0 ==''
    是因为，第一个就是相等，第二个是做了隐式转换（==情况下）
    但是，怎么做的隐式转换.，是Number("")转换为0，所以相等
    0==''
    0==Number('')  //true
-----------------------------------------------------------

    但是，隐式转换只能转换原始值类型，[]可不是原始值类型，那是怎么实现的呢

    []==0如何实现
    这就用到前面说的toString和valueOf了
    当判断中，发现有一边不是原始值类型，就会先调用valueOf方法进行转换

    [].valueOf() //[]
    
    发现valueOf转化完后，依然不时原始值类型，那继续用toString方法转换

    [].toString()//""
    
    转换完毕，发现转成了原始值类型”“；
    下面继续用Number转换

    Number("")==0 //true

-----------------------------------------------------------------

    
    */
    </script>
</html>
