<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

        <title>Document</title>
    </head>
    <body>
        <h1>content</h1>
        <!-- 
    
            使用jsonp获取数据：

                req.query  简洁版获取get参数

                以字符串的形式返回 ，函数调用,函数名是获取到的,参数是要返回的值







         -->
    </body>
    <script>
        function ajaxjsonp(data) {
            console.log(data);
        }
    </script>
    <script>
        // 原生js
        let scr = document.createElement("script");
        scr.src =
            "https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33213,1429,32854,33059,33113,33099,33101,33183,33181,32938,32846,33198,33217,33216,33215,33185&wd=感冒可以不吃药吗&req=2&csor=1&cb=ajaxjsonp";
        console.log(scr);
        document.body.append(scr);
    </script>

    <script>
        // jq版
        $.ajax({
            url: "http://localhost:8088/list",
            type: "GET",
            callback: "ajaxJsonp", //辅助的作用，不写也行
            dataType: "jsonp",
            success: function (data) {
                // console.log(data);
                // $(data).each((i,d)=>{
                //     console.log(i,d);
                // })
            },
        });

        $.ajax({
            url:
                "https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33213,1429,32854,33059,33113,33099,33101,33183,33181,32938,32846,33198,33217,33216,33215,33185&wd=感冒了，好难受&req=2&csor=1",
            type: "GET",
            dataType: "jsonp",
            success: function (data) {
                // console.log(data);
            },
        });
        // jsonpCallback: "callback", //规定了回调函数的名字，同样什么都不写，一样能获取

        {
            // 偶遇的面试题
            // function test() {
            //     for (var i = 0; i < 5; i++) {
            //         // let与var结果不同
            //         console.log("循环内" + i);
            //         setTimeout(function timer() {
            //             console.log("定时器内" + i);
            //         }, 1000 * i);
            //     }
            //     console.log("函数" + i);
            // }
            // test();
            /*
            循环  0-4
            函数 5
            定时器 5
            定时器 间隔 1秒输出一次 5 ，重复4次
            
            */
        }
        {
            // const obj = { 1: "a", 2: "b", 3: "c" };
            // const set = new Set([1, 2, 3, 4, 5]);
            // // hasOwnProperty方法返回一个布尔值，判断对象是否包含特定的自身（非继承）属性
            // console.log(obj.hasOwnProperty("1"), obj.hasOwnProperty(3), set.has("1"), set.has(1));
            // // true true false true
        }
        {
            // let i = null;
            // i = setInterval(() => {
            //     console.log(i);

            //     // i && (clearInterval(i), (i = null));
            // }, 1000);

            console.log(1 && 3); //3
            console.log(0 && 2); //0
            console.log(1 || 3); //1
            console.log(0 || 2); //2

            console.log(1 + (2, 1 + 4)); //1+5 ,逗号运算符，返回右边的值

            // “~”运算符（位非）用于对一个二进制操作数逐位进行取反操作。
            // 第 1 步：把运算数转换为 32 位的二进制整数。
            // 第 2 步：逐位进行取反操作。
            // 第 3 步：把二进制反码转换为十进制浮点数。

            console.log(~-122);
            console.log(~122);

            // “^”运算符（位异或）用于对两个二进制操作数逐位进行比较，并根据如表格所示的换算表返回结果。
            console.log(12 ^ 5); //12 和 5 进行位异或运算，则返回值为 9。
        }
    </script>
</html>
