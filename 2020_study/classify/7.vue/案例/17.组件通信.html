<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- 




         -->
    </body>
    <script>
        /*
        组件通讯：

            父子之间：
                $emit、$event、props  (前面学过的)

                $root ：Vue 子组件可以通过 $root 属性访问 根组件 实例的 属性和方法
                
                $parent : Vue 子组件可以通过 $parent 属性访问 父组件 实例的 属性和方法

                $children : 组件的 后代 ，获取子组件实例集合
                
                $refs 3种用法：
                　　1、ref 加在普通的元素上，用this.$refs.ref绑定时的值 获取到的是dom元素
                　　2、ref 加在子组件上，用this.$refs.ref绑定时的值 获取到的是组件实例，可以使用组件的所有方法。
                　　3、v-for 和 ref 配合使用
                    ps:要使用 $refs  , 要在需要的位置绑定ref



            兄弟之间：eventBus 配合 $emit 配合 $on ，事件总站，中转数据
                  
                方案一：
                    1.首先创建一个vue的空白实例文件（兄弟间的桥梁）
                        import Vue from 'vue'
                        export default new Vue()

                    2.发送方 引入 空白实例，然后发送方使用 $emit 自定义事件把数据带过去 
                        import xx from ""
                            xx.$emit("自定义函数",数据)


                    3.接收方引入 空白实例，然后 使用 $on 监听 自定义事件，获取值
                        xx.$on("自定义事件",(val)=>{  回调函数要使用箭头函数;
                            执行操作
                        })
                    
                方案二：
                        优化以上写法
                        window.eventBus = new Vue()
                        window.eventBus.$emit("自定义函数",数据)
                        window.eventBus.$on("自定义事件",(val)=>{})
                

                方案三 ：状态管理工具 Vuex，可以很方便实现组件之间的参数传递


                
                
                








       --------------------------------------------------
            爷孙互传：
                1.爷组件 内 给父组件标签 绑定自定义事件，绑定要传递的属性，自己定义接收函数
                2.父组件 内 给子组件标签 绑定 v-bind="$attrs" v-on="$listeners"
                        此时在 父组件内 能 获取到 爷组件传递的 值，
                        $attrs 所有值 
                        单独使用值也可以，但是需要 props 接收
                3.孙组件 内 绑定 dom 事件 ，触发函数 ，使用 $emit() 传递值 给 爷组件
                        属性 使用 props 接收后 使用


                $attrs : 继承所有的父组件属性（除了prop传递的属性、class 和 style ）

                $listeners : 它是一个对象，里面包含了作用在这个组件上的所有监听器，你就可以配合 v-on="$listeners" 将所有的事件监听器指向这个组件的某个特定的子元素
                        简言之，用v-on绑定的且不用.native修饰的事件。可通过$listeners传递

                inheritAttrs: false,  设置禁用继承特性 , 
                    继承特性：父组件 内 子组件标签上 定义属性 默认会被继承到 子组件的 dom 元素

  ---------------------------------------------------------------------------------------

            provide、inject 跨组件传值 ：实现跨组件传值，数据的流只能是向下传递
                
                provide : 必须在分级组件（不一定是app.vue）进行使用，用来给后代组件注入依赖（属性或方法）
                        像date一样 定义一个 函数 保存要传递的 数据 ，也可是对象 ，但是推荐 函数 

                inject :  必须在子组件进行使用，用来获取根组件定义的跨组件传递的数据
                        像 props 一样接收数据 ，可以是 数组接收 ，也可以是 对象



 ---------------------------------------------------------------------------------------            
        $nextTick：
            $nextTick 是在下次 DOM 更新循环结束之后执行延迟回调，在修改数据之后使用 $nextTick，则可以在回调中获取更新后的 DOM
            大致意思就是 ，他能 在dom  未渲染时 ，获取 以被修改的 dom

            用法：
                在Vue生命周期的created()钩子函数进行的DOM操作一定要放在Vue.nextTick()的回调函数中
                在数据变化后要执行的某个操作，而这个操作需要使用随数据改变而改变的DOM结构的时候，这个操作都应该放进Vue.nextTick()的回调函数中。
                
              this.$nextTick(() => {});
        
        
        
        
        */
    </script>
</html>
