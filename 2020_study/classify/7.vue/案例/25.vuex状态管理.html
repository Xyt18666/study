<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- 
            vuex状态管理器：
                就是统一管理数据的 区域

                安装脚手架时  安装了 vuex

                store文件夹下的 index.js 就是vuex的主文件

                实际项目开发，要将其中的子项 设立单独文件



            关于异步：
                mutation是同步操作，不能再内容写异步，会发生数据不吻合
                actions是异步的，必须使用actions操作异步
            
            ps:
                不能刷新页面，会导致数据丢失，最好把关键数据存到本地存储
                或者使用插件

            
                
                

     -->
    </body>
    <script>
        /*

        state :    类似于 data 保存数据
            定义： {}
            使用 ：直接使用
        

        getters :   以有属性的，衍生 属性 ，对象里是方法，也可以理解为 计算属性  
            定义： son(state){}
            使用 ：直接使用
        
        mutations : 定义修改数据的方法，对象里是方法  , 必须是同步
            定义： setindex(state, val){}
            使用 ：commit :  修改属性值  this.$store.commit("修改数据的方法名",传入的值);


        actions: 定义修改多个数据的方法，对象里是方法 ， 方法内是多个 commit  , 还可以调用 异步 api
            定义：  setni({commit},list){}  第一参数 对象中包含和 store 实例相同的属性和方法
            使用 ：dispatch:  修改一组属性值 this.$store.dispatch("修改组的函数名"，传入的值值)

       
        
        辅助函数：
            mapState            将 this.$store.state 自动生成计算属性
            mapGetters          将 this.$store.getters 自动生成计算属性
            mapMutations        将 this.$store.commit 自动映射成方法
            mapActions          将 this.$store.dispatch 自动映射成方法
            
            使用：
                1. import { mapState,mapGetters,mapMutations,mapActions } from "vuex"
                2. 在computed 中  ...mapState(["name"]),  ...mapGetters(["值"]) ,在matheds中    ...mapMutations(["setindex"]), ...mapActions(["setni"]),
                3. 在使用时 属性就直接使用就可以了 ，函数 直接调用函数
            
            
        mutations 事件类型使用常量：
            • mutations 函数名使用常量
            • 所有常量放在单独文件中
        
        单文件vuex:
            通过定义单独文件，然后 引入
            
            import vue from 'vue'
            import vuex from 'vuex'
            import states from './state.js'
            import mutatons from './mutations.js'
            import actons from './actions.js'
            import getters from './getters'
            vue.use(vuex);
            export default new vuex.Store({
                                ststes,
                                mutatons,
                                getters,
                                actions
                            });
        
        模块化 vuex:
            使用模块属性 ，配合单文件 ，使得项目更清晰

            export default new vuex.Store({
                               modules:{
                                        mod1name:{
                                              states,
                                              mutatons,
                                              getters,
                                              actions
                                            },
                                        mod2name:xx.js   也可以导入文件 ，该文件导出的是 一个 对象 ，包含 states, mutatons, getters,  actions 。
                                    }
                  });
                    
        
        
        */
    </script>
</html>
