<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		.box{
			width: 300px;
			height: 300px;
			background: #789;
			opacity: 1;
		}
	</style>
</head>
<body>
	<div class="box">123</div>
</body>
<script type="text/javascript">
var box=document.querySelector(".box");

var neStyle={
	width:500,
	opacity:50,
}



box.onclick=function(){
	move(box,neStyle,null)
}






// function move(obj,json,fn){
// 	clearInterval(obj.dsq)

// 	var speed=0;
// 	var thstyle=0;

// 	obj.dsq=setInterval(function(){
// 		var onOff=true;

// 		for(var key in json){
// 			thstyle=key=="opacity"?parseFloat(getStyle(obj,key))*100:parseInt(getStyle(obj,key))
// 			console.log(thstyle)
// 			speed=(json[key]-thstyle)/20
// 			speed=speed>0?Math.ceil(speed):Math.floor(speed)
		
// 			if(thstyle!=json[key]){
// 				onOff=false;
// 				thstyle+=speed

// 				if(key=="opacity"){
// 					obj.style["opacity"]=thstyle/100;
// 					obj.style.filter="alpha(opacity="+thstyle+")";
// 				}else{
// 					obj.style[key]=thstyle+"px"
// 				}
// 			}
// 		}
// 		if(onOff){
// 			clearInterval(obj.dsq)
// 			fn&&fn()
// 		}
// 	},20)
// }


function getStyle(obj,attr){
	return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,null)[attr]
}
</script>
</html>