<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
		<style>
		*{
			margin: 0;
			padding: 0;
		}
		.box{
			width: 100px;
			height: 100px;
			background: #0f0;
			position: absolute;
			left: 0;
			opacity: 1;
		}
	</style>
</head>
<body>
	<div class="box"></div>
</body>
<script type="text/javascript">
var box=document.querySelector(".box");
var nStyle={
	width:500,
	height:400,
	opacity:50
}

box.onclick=function(){
	 move(box,"width",20,500)
}



// function move(obj,attr,spe,end){
// 	clearInterval(obj.dsq)
// 	var speed=getStyle(obj,attr)>end?-spe:spe

// 	obj.dsq=setInterval(function(){
// 		var thisattr=parseInt(getStyle(obj,attr))
// 		thisattr+=speed
// 		if(speed>0&&thisattr>end || speed<0&&thisattr<end){
// 			thisattr=end
// 		}
// 		obj.style[attr]=thisattr+"px"
// 		if(thisattr==end){
// 			clearInterval(obj.dsq)
// 		}
// 	},20)
// }








// function move(obj,json,fn){
// 	clearInterval(obj.dsq)
// 	var spped=0,thisStyle=0;

// 	obj.dsq=setInterval(function(){
// 		var onOff=true;
// 		for(key in json){
// 			thisStyle=key=="opacity"?parseFloat(getStyle(obj,key))*100:parseInt(getStyle(obj,key))

// 			speed=(json[key]-thisStyle)/10
// 			speed=speed>0?Math.ceil(speed):Math.floor(speed)
// 			if(thisStyle!=json[key]){
// 				onOff=false;

// 				thisStyle+=speed
// 				if(key=="opacity"){

// 					obj.style["opacity"]=thisStyle/100
// 					obj.style.filter="alpha(opacity="+thisStyle+")"
// 				}else{
// 					obj.style[key]=thisStyle+"px"
// 				}
// 			}

// 		}
// 		if(onOff){
// 			clearInterval(obj.dsq)
// 			fn&&fn()
// 		}
// 	},20)
// }




function getStyle(obj,attr){
	return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,null)[attr]
}
</script>
</html>